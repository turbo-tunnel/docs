(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{451:function(t,a,s){"use strict";s.r(a);var e=s(24),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"icmp隧道"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#icmp隧道"}},[t._v("#")]),t._v(" ICMP隧道")]),t._v(" "),s("h2",{attrs:{id:"功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[t._v("#")]),t._v(" 功能")]),t._v(" "),s("ul",[s("li",[t._v("ICMP隧道服务端")]),t._v(" "),s("li",[t._v("ICMP隧道客户端")]),t._v(" "),s("li",[t._v("支持穿越NAT")]),t._v(" "),s("li",[t._v("支持多路复用")])]),t._v(" "),s("h2",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("p",[t._v("通常使用的隧道协议一般都是基于"),s("code",[t._v("TCP")]),t._v("或"),s("code",[t._v("UDP")]),t._v("，但是这两种协议在某些特殊网络情况下可能无法使用（防火墙之类的限制）。而此时ICMP协议可能是放行的（除非是物理隔绝的网络），这种情况下可以考虑使用ICMP隧道。")]),t._v(" "),s("p",[t._v("但受限于"),s("code",[t._v("NAT")]),t._v("的限制，ICMP隧道没法实现真正意义上的全双工通信，因此在较大数据量的场景下稳定性可能会有些问题。如果对通信隧道有性能及稳定性要求的场景，建议优先考虑其它隧道类型（如：WebSocket隧道、SSH隧道等），只在其它协议都没法适用的场景下，才考虑使用ICMP隧道。")]),t._v(" "),s("p",[t._v("如果想了解ICMP隧道更多实现原理，可以参见："),s("a",{attrs:{href:"https://www.drunkdream.com/2022/05/05/icmp-tunnel-through-nat/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.drunkdream.com/2022/05/05/icmp-tunnel-through-nat/"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"icmp隧道服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#icmp隧道服务端"}},[t._v("#")]),t._v(" ICMP隧道服务端")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" turbo-tunnel -l icmp://:8000/\n")])])]),s("p",[t._v("ICMP协议本身并没有端口的概念，这里的"),s("code",[t._v("8000")]),t._v("是在隧道层协议中自己实现的，这样可以支持在一台主机上启动多个隧道服务端。")]),t._v(" "),s("h2",{attrs:{id:"icmp隧道客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#icmp隧道客户端"}},[t._v("#")]),t._v(" ICMP隧道客户端")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" turbo-tunnel -l http://127.0.0.1:8080 -t icmp://1.1.1.1:8000\n")])])]),s("p",[s("code",[t._v("1.1.1.1")]),t._v("为ICMP隧道服务端IP。可以看出，客户端使用方法与其它隧道类型基本一致。")]),t._v(" "),s("blockquote",[s("p",[t._v("不过，ICMP隧道目前尚不支持与其它隧道嵌套使用")])])])}),[],!1,null,null,null);a.default=r.exports}}]);